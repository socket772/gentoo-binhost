# make.conf

# Target: x86-64-v3 (Generico con AVX2)
COMMON_FLAGS="-O2 -march=x86-64-v3 -pipe"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"
CPU_FLAGS_X86="${CPU_FLAGS_X86} aes avx avx2 bmi1 bmi2 f16c fma3 mmx mmxext pclmul popcnt rdrand sha sse sse2 sse3 sse4_1 sse4_2 sse4a ssse3"

# Parallelismo (Adatta al tuo host)
MAKEOPTS="-j16"

# USE Flags Globali (Wayland, No X, Systemd)
USE="wayland systemd plasma vulkan gles2 vdpau vaapi \
     -grub -bios -consolekit \
     systemd-boot screencast pipewire networkmanager sddm"
# Nota: Ho rimosso '-X' globale per evitare i problemi con le lib,
# gestiscilo meglio via package.use se vuoi essere super strict,
# oppure lascialo attivo per compatibilità XWayland.

# Licenze
ACCEPT_LICENSE="*"

# --- CONFIGURAZIONE BINHOST ---
# FEATURES="buildpkg": Crea un pacchetto binario per OGNI pacchetto compilato/installato
FEATURES="buildpkg"

# Directory dove Portage salverà i .gpkg (che Nginx servirà)
PKGDIR="/var/www/binhost"

# Formato moderno (più veloce e include la firma digitale se volessi usarla)
BINPKG_FORMAT="gpkg"